{
    "componentChunkName": "component---src-templates-blog-post-template-tsx",
    "path": "/20220307/",
    "result": {"data":{"markdownRemark":{"html":"<p>rubyのxmlのパーサーが必要になり、調べていたところoxというgemに思い当たる。\nrubyでxmlを処理するときは<a href=\"https://github.com/ruby/rexml\">rexml</a>が良く使われる気がするが、大規模になるとパフォーマンスが極端に落ちてしまう。\n代わりによく使われるものは<a href=\"https://github.com/xml4r/libxml-ruby/\">libxml</a>だが、今回は開拓も込みで<a href=\"https://github.com/ohler55/ox/\">ox</a>を使った。\n詳細は公式のサンプルが豊富なのでそちらに任せるとして、今回使うデータはCDATAでの記述も混ざったもので、そちらの中身がnilになっていた。\nどうしたものかと調べていると、<a href=\"https://github.com/ohler55/ox/pull/257\">オプションでhashロードできるようになっていた</a>。\nこのような形で記述できる。</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ruby line-numbers\"><code class=\"language-ruby\"><span class=\"token keyword\">require</span> <span class=\"token string-literal\"><span class=\"token string\">'ox'</span></span>\n\nxml <span class=\"token operator\">=</span> output <span class=\"token operator\">=</span> <span class=\"token builtin\">File</span><span class=\"token punctuation\">.</span>read<span class=\"token punctuation\">(</span><span class=\"token string-literal\"><span class=\"token string\">\"cdata記述ありのxmlファイル\"</span></span><span class=\"token punctuation\">)</span>\nxml_data <span class=\"token operator\">=</span> Ox<span class=\"token punctuation\">.</span>load<span class=\"token punctuation\">(</span>xml<span class=\"token punctuation\">,</span> <span class=\"token symbol\">mode</span><span class=\"token operator\">:</span> <span class=\"token symbol\">:hash</span><span class=\"token punctuation\">,</span> <span class=\"token symbol\">with_cdata</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>","frontmatter":{"title":"2022年03月07日","date":"2022/03/07"}}},"pageContext":{"slug":"/20220307/"}},
    "staticQueryHashes": []}
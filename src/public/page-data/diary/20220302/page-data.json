{"componentChunkName":"component---src-templates-blog-post-template-tsx","path":"/diary/20220302/","result":{"data":{"markdownRemark":{"html":"<p>この日記を簡単に作りたい、ということで簡素なRubyのスクリプトを書いた。Ruby2.7で実行したが、多分3系でも余裕で動く。多分。</p>\n<div class=\"gatsby-code-title\">src/create_today_diary.rb</div>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ruby line-numbers\"><code class=\"language-ruby\"><span class=\"token keyword\">require</span> <span class=\"token string-literal\"><span class=\"token string\">\"date\"</span></span>\nnow <span class=\"token operator\">=</span> <span class=\"token builtin\">Time</span><span class=\"token punctuation\">.</span>now\nyear <span class=\"token operator\">=</span> now<span class=\"token punctuation\">.</span>strftime<span class=\"token punctuation\">(</span><span class=\"token string-literal\"><span class=\"token string\">'%Y'</span></span><span class=\"token punctuation\">)</span>\nmonth <span class=\"token operator\">=</span> now<span class=\"token punctuation\">.</span>strftime<span class=\"token punctuation\">(</span><span class=\"token string-literal\"><span class=\"token string\">'%m'</span></span><span class=\"token punctuation\">)</span>\nday <span class=\"token operator\">=</span> now<span class=\"token punctuation\">.</span>strftime<span class=\"token punctuation\">(</span><span class=\"token string-literal\"><span class=\"token string\">'%d'</span></span><span class=\"token punctuation\">)</span>\n<span class=\"token builtin\">File</span><span class=\"token punctuation\">.</span>open<span class=\"token punctuation\">(</span><span class=\"token string-literal\"><span class=\"token string\">\"./src/markdown/</span><span class=\"token interpolation\"><span class=\"token delimiter punctuation\">#{</span><span class=\"token content\">year</span><span class=\"token delimiter punctuation\">}</span></span><span class=\"token interpolation\"><span class=\"token delimiter punctuation\">#{</span><span class=\"token content\">month</span><span class=\"token delimiter punctuation\">}</span></span><span class=\"token interpolation\"><span class=\"token delimiter punctuation\">#{</span><span class=\"token content\">day</span><span class=\"token delimiter punctuation\">}</span></span><span class=\"token string\">.md\"</span></span><span class=\"token punctuation\">,</span> mode <span class=\"token operator\">=</span> <span class=\"token string-literal\"><span class=\"token string\">\"w\"</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span><span class=\"token operator\">|</span>f<span class=\"token operator\">|</span>\n  f<span class=\"token punctuation\">.</span>write<span class=\"token punctuation\">(</span><span class=\"token string-literal\"><span class=\"token string\">\"---\\nid: \\\"</span><span class=\"token interpolation\"><span class=\"token delimiter punctuation\">#{</span><span class=\"token content\">year</span><span class=\"token delimiter punctuation\">}</span></span><span class=\"token interpolation\"><span class=\"token delimiter punctuation\">#{</span><span class=\"token content\">month</span><span class=\"token delimiter punctuation\">}</span></span><span class=\"token interpolation\"><span class=\"token delimiter punctuation\">#{</span><span class=\"token content\">day</span><span class=\"token delimiter punctuation\">}</span></span><span class=\"token string\">\\\"\\ntitle: \\\"</span><span class=\"token interpolation\"><span class=\"token delimiter punctuation\">#{</span><span class=\"token content\">year</span><span class=\"token delimiter punctuation\">}</span></span><span class=\"token string\">年</span><span class=\"token interpolation\"><span class=\"token delimiter punctuation\">#{</span><span class=\"token content\">month</span><span class=\"token delimiter punctuation\">}</span></span><span class=\"token string\">月</span><span class=\"token interpolation\"><span class=\"token delimiter punctuation\">#{</span><span class=\"token content\">day</span><span class=\"token delimiter punctuation\">}</span></span><span class=\"token string\">日\\\"\\ndate: \\\"</span><span class=\"token interpolation\"><span class=\"token delimiter punctuation\">#{</span><span class=\"token content\">year</span><span class=\"token delimiter punctuation\">}</span></span><span class=\"token string\">-</span><span class=\"token interpolation\"><span class=\"token delimiter punctuation\">#{</span><span class=\"token content\">month</span><span class=\"token delimiter punctuation\">}</span></span><span class=\"token string\">-</span><span class=\"token interpolation\"><span class=\"token delimiter punctuation\">#{</span><span class=\"token content\">day</span><span class=\"token delimiter punctuation\">}</span></span><span class=\"token string\">\\\"\\n---\\n\"</span></span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>これをホームディレクトリから実行すると言い感じに今日の日記のフォーマットを作ってくれる。</p>\n<div class=\"gatsby-highlight\" data-language=\"markdown\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-markdown line-numbers\"><code class=\"language-markdown\"><span class=\"token front-matter-block\"><span class=\"token punctuation\">---</span>\n<span class=\"token front-matter yaml language-yaml\">id: \"2022年03月02日\"\ntitle: \"2022年03月02日\"\ndate: \"2022-03-02\"</span>\n<span class=\"token punctuation\">---</span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>24時以降に書く場合向けに昨日の日付で作る用のオプションかファイルを作ることも検討したが、そもそも24時前に書き始めるべきという話なのであえて作っていない。</p>","frontmatter":{"title":"2022年03月02日","date":"2022/03/02"}}},"pageContext":{"slug":"/20220302/"}},"staticQueryHashes":[]}